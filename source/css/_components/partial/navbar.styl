.navbar
  padding: 0 1rem
  z-index: 8
  top: 0
  background: var(--site-bg)
  position: sticky
  position: -webkit-sticky
  margin-top: -8px
  
  &:after
    content: ''
    height: 2px
    border-radius: 2px
    position: absolute
    bottom: 0
    left: 1rem
    right: 1rem
    background: var(--block-hover)

  nav
    display: flex
    align-items: center
    font-size: $fs-14
    overflow: visible
    
    > a, .nav-item > a
      padding: 2px 0.75rem
      margin: 10px 0.25rem 8px 0.25rem
      line-height: 2
      color: var(--text-p3)
      border-radius: $border-button
      font-weight: 500
      white-space: nowrap
      transition: all 0.2s ease
      
      &:hover
        color: var(--text-p1)
        background: var(--block-hover)
      
      &.active
        color: var(--text-p1)
        background: var(--card)
        box-shadow: $boxshadow-button

    .nav-item
      position: relative
      display: inline-block
      
      .submenu
        visibility: hidden
        opacity: 0
        position: absolute
        top: 100%
        left: 0
        min-width: 120px
        background: var(--card)
        border-radius: $border-card
        padding: 4px 0
        box-shadow: $boxshadow-card
        z-index: 999
        transform: translateY(-5px)
        transition: all 0.2s ease
        
        a
          display: block
          padding: 8px 16px
          margin: 0
          color: var(--text-p3)
          font-size: $fs-14
          white-space: nowrap
          transition: all 0.2s ease
          
          &:hover
            color: var(--text-p1)
            background: var(--block-hover)
          
          &.active
            color: var(--text-p1)
            background: var(--block)
      
      &:hover
        > a
          color: var(--text-p1)
          background: var(--block-hover)
        
        .submenu
          visibility: visible
          opacity: 1
          transform: translateY(0)

// 移动端适配
@media screen and (max-width: $device-mobile-max)
  .navbar
    position: fixed
    width: 100%
    top: 0
    left: 0
    z-index: 1000
    background: var(--site-bg)
    margin-bottom: 6px
    
    nav
      height: 40px  // 明确设置导航栏高度
      .nav-item
        position: static
        
        .submenu
          position: fixed
          top: 15px
          left: 0
          width: 100%
          z-index: 999
          visibility: hidden
          opacity: 0
          transform: translateY(-10px)
          transition: all 0.3s ease
          padding: 8px 0
          background: var(--card)
          box-shadow: $boxshadow-card
          margin-top: 8px
          
        &.active
          .submenu
            visibility: visible
            opacity: 1
            transform: translateY(0)
          &:after
            content: ''
            position: fixed
            top: 50px
            left: 0
            right: 0
            bottom: 0
            background: rgba(0,0,0,0.3)
            z-index: 998
    
    // 隐藏移动端的网站标题和描述
    .site-info
      display: none
      
    // 或者如果标题在其他容器中，比如
    .site-title,
    .site-subtitle
      display: none

  // 为了防止内容被固定导航栏遮挡，给 main 内容添加上边距
  .l_main
    padding-top: 60px    // 比导航栏高度多一点，留出空间
    #main
      .logo-wrap
        display: none

.post-content, .article-content, main
  position: relative
  z-index: 1
